<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>{{ list_name }} – Closet Select</title>
<style>
body{margin:0;background:#f1f5f9;font-family:system-ui;}
h1{color:#005f73;text-align:center;margin:20px 0;}
.back{position:fixed;top:10px;left:10px;background:#005f73;color:#fff;padding:8px 16px;border-radius:8px;text-decoration:none;}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;max-width:1200px;margin:auto;padding:20px;}
.card{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 4px 10px rgba(0,0,0,.1);}
.card img{width:100%;height:200px;object-fit:cover;}
.card .info{padding:10px;}
.card .choice{font-weight:700;color:#22c55e;}
.card .choice.dont{color:#ef4444;}
.card .comment{font-style:italic;margin-top:4px;}
</style>
</head>
<body>
<a class="back" href="/">← Back</a>
<h1>List: {{ list_name }}</h1>
<div class="grid" id="grid"></div>
<script>
fetch(`/api/list/{{ list_name }}/items`)
  .then(r=>r.json())
  .then(data=>{
    const grid=document.getElementById('grid');
    data.forEach(it=>{
      const card=document.createElement('div');
      card.className='card';
      card.innerHTML=`
        <img src="/static/photos/${it.id}">
        <div class="info">
          <div class="caption">${it.caption}</div>
          <div class="choice ${it.choice}">${it.choice==='want'?'I want it':'I don’t want it'}</div>
          ${it.comment?`<div class="comment">Comment: ${it.comment}</div>`:''}
        </div>`;
      grid.appendChild(card);
    });
  });
</script>
</body>
</html>
